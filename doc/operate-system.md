## 操作系统： ##
1.线程和进程的区别？

 答：

（1）进程是拥有资源的单位，线程是系统调度的基本单位；

（2）线程比进程更轻量级，因为线程共享进程中的资源（除了线程的私有资源）

（3）

2.进程间的通信都有哪些方式？

答：管道、命名管道、信号量、共享内存

3.线程同步的方式有哪些？

答：互斥锁、自旋锁、CAS

4.什么时死锁？

答：两个线程对锁出现的僵持

5.死锁产生的条件有哪些？

答：

    互斥条件：一个资源一次只能被一个进程使用
    请求与保持条件：一个进程因请求资源而阻塞时，对已获得资源保持不放
    不剥夺条件：进程获得的资源，在未完全使用完之前，不能强行剥夺
    循环等待条件：若干进程之间形成一种头尾相接的环形等待资源关系


6.如何避免死锁？

答：顺序访问资源、尽量少共享资源

7.线程有哪些状态？

答：阻塞、就绪、运行

8.什么时上下文切换？

答：在CPU上从一个运行体（进程、线程、中断）切换到另外一个运行体

9.线程同步和互斥的区别？

答：

10.线程的同步和异步有什么区别？

答：

11.线程的中的栈和堆是私有的还是共有的？

答：栈是私有，堆是共有

12.什么是线程池？

答：避免线程的多次创建和销毁，一次创建多个线程，先挂起，等用的时候唤醒，用完后挂起

13.线程池怎么设计？

答：

    线程池管理类（ThreadPool）：用来创建线程，销毁线程，添加新任务等。
    工作线程（PoolWorker）：线程池中的线程，在没有任务时处于等待状态，可以循环的执行任务。
    任务接口（Task）：每个任务必须实现的接口，以供工作线程调度任务的执行，它主要规定了任务的入口，任务执行完后的收尾工作，任务的执行状态等。
    任务队列（TaskQueue）：用于存放还没有处理的任务，提供一种缓冲机制。

14.线程都包含哪些资源？

答：

15.什么是线程安全？

答：
当多个线程访问某个方法时，不管你通过怎样的调用方式或者说这些线程如何交替的执行，我们在主程序中不需要去做任何的同步，这个类的结果行为都是我们设想的正确行为，那么我们就可以说这个类时线程安全的。

16.线程有什么好处？

答：资源利用率高，可实现高并发

17.线程怎么退出？

答：线程函数返回、exit

18.什么是线程的连接和分离？

答：

pthread_join(threadid,status)——等待线程终止

pthread_detach——分离线程

19.互斥锁和自旋锁的区别？

答：互斥锁会导致线程挂起，自旋锁会一直等待（相当于while(1)）

20.什么是CAS？

答：原子操作

21.什么是CPU的亲缘性？

答：线程或进程绑定在一个CPU上运行，节省CPU切换的开销

22.线程的调度策略有哪些？

答：

23.linux怎么查看进程？

答：ps -aux | grep 进程名

24.fork的返回值有哪些？

答：子进程返回0，父进程返回子进程的进程id

25.fork后子进程都继承了父进程哪些资源？

答：所有资源

26.怎么不继承父进程的fd？

答：clone

27.什么是孤儿进程？

答：创建子进程后，父进程退出，子进程由1号（init）进程接管

28.什么是僵尸进程？

答：进程退出，但父进程没有执行wait操作，导致进程的id等资源依然存在

29.什么是守护进程？

答：后台进程，与控制台无关

30.怎么使一个进程成为守护进程？

答：

    （1）子进程等待父进程死亡
    （2）子进程使用setsid创建新的会话期，脱离控制台
    （3）调用chdir将当前工作目录设置为/，脱离文件系统
    （4）umask设置为0以取消任何文件的权限屏蔽，使权限最大
    （5）关闭所有文件描述符（先要通过函数sysconf（）来获取系统最大的文件打开数）
    （6）将0,1,2定位到/dev/null（将标准输入，标准输出，标准错误弄到回收站）


31.什么是虚拟内存？

答:

32.内存是怎么布局的？

答：总体分为内核空间和用户空间；以32操作系统为例，高地址的1G为内核空间，地址的的3G为用户空间；用户空间从低地址往高地址依次是：代码段-数据段-堆-栈（其中堆是从低到高，栈是从高到低）

33.栈和堆地址是怎么增长的？为什么？

答：堆是从低到高，栈是从高到低

34.buff和cache的区别？

答：buff缓存块设备，cache缓存文件

35.什么是内核态？什么是用户态？

答：进程运行在内核空间，进程运行在用户空间

36.什么是软中断？

答：

37.逻辑地址/物理地址/虚拟地址是什么？

答：

38.共享内存的原理是什么？

答：同一块物理内存映射到多个进程虚拟地址

39.程序从编写到运行都有那几个步骤？

答：预处理-编译-汇编-链接

40.编译和汇编的区别？

答：编译是将代码翻译成汇编，汇编是将汇编代码翻译成机器码

41.链接做了什么？

答：找到程序执行时的依赖关系

42.ELF格式都包含什么？

答：

（1）头文件

（2）代码段

（3）数据段

（4）重定位表

（5）符号表

43.静态链接和动态链接的区别？

答：

静态链接：将静态库拷贝到可执行文件中；（文件较大）

动态链接：只记录相关信息，动态链接库的内容会映射到虚拟地址，通过映射关系来找到对应的代码。

44.信号量的工作原来？

答：是一个计数器。信号量用于实现进程间的互斥与同步，而不是用于存储进程间通信数据。

45.命名管道和匿名管道的区别和原理？

答：pipe只能用于具有亲缘关系的进程之间的通信,fifo可以在无关的进程之间交换数据。

46.如何定位内存泄露？

答：mtrace、maps表、valgrind工具
